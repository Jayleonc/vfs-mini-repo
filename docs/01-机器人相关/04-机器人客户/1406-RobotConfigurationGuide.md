# 机器人高级配置手册

## 1. 基础连接设置

### 1.1 协议选择

机器人支持 WebSocket 和 HTTP 两种长连接协议。在大规模消息并发场景下，推荐使用 WebSocket 以减少握手开销。

### 1.2 鉴权机制

每个请求必须携带动态生成的鉴权 Token。Token 由 API Key 和当前时间戳经过 SHA-256 算法计算得出，有效期为 5 分钟。

## 2. 任务调度配置

### 2.1 优先级策略

系统内置了“时间优先”和“等级优先”两种调度模式。默认情况下，VIP 客户触发的任务将进入高优先级队列。

### 2.2 重试机制

当执行任务超时时，系统会自动进行最多 3 次重试。重试间隔遵循指数退避算法，分别为 1s、4s 和 16s。

## 3. 常见问题排查

如果机器人出现频繁掉线，请检查防火墙的 8080 端口是否已开放，并确认本地心跳上报频率是否在规定范围内。
